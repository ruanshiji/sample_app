### hoterest首页beta_20131216 - 开发说明


##### 分类筛选区

内容筛选规则   <br />

1. 筛选的规则为3个筛选条件叠加。  
2. 优先显示满足3个筛选条件的内容，
3. 当没有更多满足3个筛选条件的内容，继续显示符合__"空间 + 局部"__ 2个筛选条件的内容，并显示分割线及提示文字。   
4. 当没有更多满足以上2个筛选条件的内容，继续显示符合__"空间"__筛选条件的内容。
5. 当没有更多满足"空间"筛选条件的内容，继续读取全部内容。

筛选器收放逻辑   <br />

1. 浏览器窗口宽度大于等于1024px时，增加新的筛选器收放逻辑。
2. 窗口从页面顶部下移后，筛选器切换成新样式。见效果图 index_pin_filter_off@desktop.jpg
3. 点击 ">>" 按钮后，显示该筛选条件下其余选项。见效果图 index_pin_filter_on@desktop.jpg；选中后，筛选器返回filter_off状态，选中的选项排列在第一个。
4. 如果筛选条件下的选项不够显示，则点击“...”按钮后，筛选器切换回原始样式。见效果图 index_pin@desktop.jpg；页面再次下移后，筛选器切换为filter_off状态。


##### 瀑布内容区

1. 图片 <br />
> 瀑布流中显示的图片规格：宽度=280px，高度>=280px & <=380px。   <br />
> 如果原图片高度大于宽度，将原图按同比例缩小至宽度=280px后显示，高度取居中的380px。   <br />
> 如果原图片为高度小于宽度，将原图按同比例缩小至高度=280px，宽度取居中的280px。   <br />


2. 标题与描述 <br />
> 标题内容。后端验证不超过35个字符，首页全部显示。   <br />
> 描述内容。后端验证不超过500个字符，首页显示2行，以"..."结尾。   <br />


3. 评论 <br />
> 评论发布时间的格式:
>    < 1 min, 显示“xx秒前”。   <br />
>    \> 1 min & < 1 hour，显示“x分钟前”。   <br />
>    \> 1 hour & < 1 day，显示“x小时前”。   <br />
>    \> 1 month & < 1 year, 显示“x月前” 。   <br />
>    \> 1 year, 显示“x年前”。   <br />
> 评论内容:
>    后端验证不超过300个字符，首页全部显示。
>    每张图片最多显示两条评论。

4. 用户名
> 后端长度验证。不超过40个字符。   <br />
> 前台显示控制。如原始长度超出范围，用户名以"..."结尾。   <br />

5. 内容加载 
> 页面打开后，首次加载3000px高度的内容。   <br />
> 当页面下拉到与上次加载内容的底部距离小于300px，继续加载2000px高度的内容。   <br />

