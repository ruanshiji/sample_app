## 场景图详情页开发说明 ##

##### 主场景图显示区 #####
大图

+   大小与位置。根据上传的原始图片大小，最大高度不超过用户浏览器窗口减去40个像素，宽度同比例缩小。居中显示。
+   前后切换。根据首页场景图的筛选结果，向前后切换下一张图片。
+   如当前图片为第一张or最后一张，相应的箭头应为disable状态。

<br />
图钉与文字面板

+   图钉分两种类型：1种是只含有__"说说"__内容，还有1种含有__"灵感来源"__内容("说说"内容可有可无)。
+   含有灵感来源的面板显示灵感来源及相关说说的Tab，不含灵感来源的钉子不显示Tab.
+   图钉分两种状态：未激活状态为__橙色__，激活状态为__黄色__。
+   页面打开后，默认显示所有图钉。
+   鼠标悬浮在图钉上，内容面板打开，图钉变为激活状态；鼠标移出图钉和内容面板2s后隐藏面板，图钉变为未激活状态。

<br />
"灵感来源" - 描述

+   后端验证该字段长度不超过600个字符。

局部评论 - "说说"

+   发表说说。点击图片底部__"说说"__按钮，按钮变为__"取消"__，鼠标指示器变成crosshand，点击空白区域，新建图钉，光标停留在文本输入框内；点击在已有图钉上，打开说说面板，光标停留在说说文本输入框内。
+   后端验证评论字段长度不超过300个字符。


底部功能按钮

+   发表说说。参考局部评论。
+   分享。
+   收藏。
+   隐藏/显示所有图钉。



***
##### 右栏内容区 #####
场景图标题

+   后端验证标题字段长度不超过35个字符。
+   标题内容全部显示。
+   折行显示超出单行宽度的内容。

<br />
上传者

+   后端验证用户名字段长度不超过30个字符。
+   上传者信息全部显示。
+   折行显示超出单行宽度的内容。

<br />
描述

+   后端验证描述字段长度不超过600个字符。
+   描述内容默认显示5行。
+   如果全部内容长度超出5行，第5行文字以“...”结束，并显示__展开__按钮。
+   点击__展开__按钮，显示剩余描述内容。
+   展开后，无收起功能。

<br />
用户推荐 - "他们收藏了该灵感"

+   显示收藏了当前场景图的用户头像。
+   最多显示16个头像。
+   根据收藏操作的发生时间，按最近到最远排列。

<br />
同一场景图预览 - "该灵感的其他角度"

+   显示相同场景下的其他照片。
+   点击1次向左右切换3张图片。
+   如果当前场景只有1张图片，不显示这个内容区域。

<br />
场景图推荐 - "喜欢这个灵感的人也喜欢"

+   推荐图片的算法: 1. 读取已收藏了当前场景图的所有用户收藏的所有场景图。2. 按交集数量从大到小取前9条内容。
+   交集图片不满9张，从满足3个筛选条件的结果中随机抽取剩余数量的图片；如仍不满9张，继续从满足 __“空间”__ 和 __“局部”__ 2个筛选条件的结果中随机抽取剩余数量的图片；如仍不满9张，继续从满足 __“空间”__ 筛选条件的结果中随机抽取剩余数量的图片；如仍不满9张，继续从所有图片中随机抽取剩余数量的图片。
+   如果当前场景图没有__“该灵感的其他角度”__内容，根据算法按相关性从大到小显示9张图片。
+   如果当前场景图有__“该灵感的其他角度”__内容，显示前6张图片。

<br />
全局评论 

+   后端验证评论字段长度不超过300个字符。
+   点击全局评论输入框后输入框变为2行文本高度。
+   每条评论内容全部显示。
+   所有评论根据发布时间倒序排列。
